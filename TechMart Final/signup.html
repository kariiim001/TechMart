<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up - TechMart</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />

    <style>
      body {
        background: #f8f9fa;
      }

      .signup-card {
        max-width: 450px;
        margin: 60px auto;
        padding: 30px;
        border-radius: 10px;
        background: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .brand {
        font-weight: 700;
        font-size: 24px;
      }

      .btn-orange {
        background: #ff6b35;
        color: white;
      }

      .btn-orange:hover {
        background: #e85c2f;
        color: white;
      }
    </style>
  </head>

  <body>
    <div class="signup-card">
      <div class="text-center mb-4">
        <div class="brand">
          <span class="text-dark">TECH</span>
          <span style="color: #ff6b35">MART</span>
        </div>
        <p class="text-muted">Create your account</p>
      </div>

      <form action="#" method="post">
        <div class="mb-3">
          <label class="form-label">Full Name</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-person"></i></span>
            <input
              type="text"
              class="form-control"
              placeholder="Enter your name"
              required
            />
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Email</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-envelope"></i></span>
            <input
              type="email"
              class="form-control"
              placeholder="Enter your email"
              required
            />
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Phone</label>
          <div class="input-group">
            <span class="input-group-text"
              ><i class="bi bi-telephone"></i
            ></span>
            <input
              type="tel"
              class="form-control"
              placeholder="Enter phone number"
              required
            />
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label">Password</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-lock"></i></span>
            <input
              type="password"
              class="form-control"
              placeholder="Create password"
              required
            />
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Confirm Password</label>
          <div class="input-group">
            <span class="input-group-text"
              ><i class="bi bi-lock-fill"></i
            ></span>
            <input
              type="password"
              class="form-control"
              placeholder="Confirm password"
              required
            />
          </div>
        </div>
        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" id="terms" required />
          <label class="form-check-label" for="terms"
            >I agree to the
            <a href="#" style="color: #ff6b35">Terms & Conditions</a>
          </label>
        </div>
        <button type="submit" class="btn btn-orange w-100 mb-3">
          Create Account
        </button>

        <p class="text-center mb-0">
          Already have an account?
          <a href="login.html" style="color: #ff6b35">Login</a>
        </p>
      </form>
    </div>

    <script>
      const api_url = "https://tizwlmsbznkegyixfnzd.supabase.co/rest/v1/logins";
      const apikey = "sb_publishable_Su7CRs65DtfYmEn9J_L64A_6kAkKYnb";
      const authorization = "Bearer " + apikey;

      const form = document.querySelector("form");

      form.addEventListener("submit", async function (e) {
        e.preventDefault();

        const fullName = document.querySelector(
          'input[placeholder="Enter your name"]',
        ).value;
        const email = document.querySelector(
          'input[placeholder="Enter your email"]',
        ).value;
        const phone = document.querySelector(
          'input[placeholder="Enter phone number"]',
        ).value;
        const password = document.querySelector(
          'input[placeholder="Create password"]',
        ).value;
        const confirmPassword = document.querySelector(
          'input[placeholder="Confirm password"]',
        ).value;

        if (!email || !password || !confirmPassword) {
          alert("Please fill the form correctly");
          return;
        }

        try {
          const response = await fetch(api_url, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              apikey: apikey,
              Authorization: authorization,
            },
            body: JSON.stringify({
              email: email,
              password: password,
            }),
          });

          if (!response.ok) {
            throw new Error("Signup failed");
          }

          alert("Account created, you can login now !!");
          window.location.href = "login.html";
        } catch (error) {
          alert("Error: " + error.message);
        }
      });
    </script>
  </body>
</html>
